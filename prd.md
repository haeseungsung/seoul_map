# 📄 PRD: 서울시 행정동 기반 인터랙티브 지도 분석 웹앱

---

## 1. 🎯 Goal & Experience Tone

- **목표**: 서울시 행정동 단위의 데이터를 클로로플레스(Choropleth) 형태로 지도에 시각화하고, 사용자가 특정 지역을 클릭하면 간단한 통계 분석 결과를 확인할 수 있는 데이터 인터페이스 웹앱.
- **스타일 키워드**: 데이터 중심, 미니멀, 반응형 UI, 기본은 단일 값 중심 → 확장 가능성 고려, PDF/JPEG 저장 지원

---

## 2. 👣 User Flow Perception

1. 사용자가 웹사이트 접속 → 기본 서울시 행정동 경계 지도 로딩
2. 기본 지표(예: 인구 수)에 따라 클로로플레스로 색칠됨
3. 검색창에서 동 이름 또는 주소로 탐색 가능
4. 지도 클릭 → 오른쪽에 해당 행정동의 상세 수치 + 서울시 평균 및 행정동 평균과의 비교 결과 노출
5. 하단 또는 우측에서 “PDF / JPEG 다운로드” 가능
6. 상단 필터 영역에서 “구 단위 보기” 전환 가능
7. 향후 버전에서 다른 지표 선택 기능 및 커스터마이징 확장 예정

---

## 3. 🖼️ UI/UX 스타일 가이드

- **레이아웃**: 
  - 좌측 상단: 필터 및 레이어 토글 영역
  - 우측 또는 하단: 상세 분석 정보 카드
  - 전체 지도는 풀스크린(반응형), 배경은 연한 중립색
- **색상**: 
  - 클로로플레스는 Viridis / Plasma / Blues 등 선택 가능 (기본값 고정)
  - 데이터 값 낮을수록 옅은색, 높을수록 진한색
- **폰트**: Noto Sans KR 또는 Spoqa Han Sans Neo
- **인터랙션**:
  - 마우스오버 시 툴팁 (행정동 이름, 데이터 요약)
  - 클릭 시 패널 표시 + 강조 효과
  - 검색창: 주소/동 이름 검색 → 지도 이동
  - 다운로드 시 지도 + 범례 포함된 이미지/PDF 저장

---

## 4. 💾 데이터 구조 & 피드백 방식

- **지오메트리 데이터**:
  - 출처: [서울시 GeoJSON (GitHub)](https://github.com/raqoon886/Local_HangJeongDong/blob/master/hangjeongdong_%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C.geojson)
  - 처리 방식: 앱 로딩 시 비동기 fetch → Mapbox에 오버레이
- **시각화용 데이터**:
  - 출처: [서울시 열린데이터광장](https://data.seoul.go.kr/)
  - 제공 형식: API (JSON)
  - 주요 필드: `행정동코드`, `행정동명`, `지표 값`, `연도`, `성별` (확장 고려)
- **데이터 반영 방식**:
  - 초기에는 하나의 데이터 값만 시각화
  - 차후 필터 (예: 성별 인구비) 확장 가능
  - 클릭 시 해당 행정동의 값, 서울시 전체 평균, 동 평균 대비 백분율 차이 표시
- **저장 및 출력**:
  - PDF / JPEG: 현재 화면 기준 렌더링 + 범례 포함 저장
  - 연도별 데이터 지원 (서울시 제공 기준, 연 1회 업데이트 예상)

---

## 5. 🪜 Build Steps (기능 체크리스트 및 구조 분할)

### ✅ 기능 체크리스트

- [ ] React 기반 초기 앱 구조 구성
- [ ] Mapbox GL JS 연동 및 GeoJSON 오버레이
- [ ] 기본 지표(인구 수) 기반 클로로플레스 색상 표현
- [ ] 마우스오버 툴팁, 클릭 시 상세 정보 카드 출력
- [ ] 서울시 API 연동 (최신 인구 데이터 fetch)
- [ ] 검색 기능 (행정동 이름 또는 주소 → 지도 이동)
- [ ] 구/동 단위 레이어 토글 기능
- [ ] PDF / 이미지 저장 기능 (지도 + 범례 포함)
- [ ] 모바일 대응 반응형 레이아웃 구성
- [ ] 연도 선택 드롭다운 추가 (기본값은 최신 연도)

---

## 6. 🔧 기술 스택

- **프론트엔드**: React
- **지도 시각화**: Mapbox GL JS
- **데이터 시각화 보조**: D3.js (추후 그래프 등 활용 예정)
- **데이터 통신**: Axios 또는 fetch + 서울시 공공데이터 API
- **이미지/PDF 저장**: html2canvas + jsPDF 조합 고려

---

## 7. ❗ 제약 및 향후 고려사항

- 사용자 커스터마이징 기능은 이번 버전에 포함하지 않음
- 현재는 단일 지표만 시각화, 향후 멀티 지표 지원 고려
- 성능 최적화는 초기에는 필요 없음 (서울시 한정, 범위 작음)
- 데이터 출처의 업데이트 주기 파악 및 동기화 필요

---
