[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[build.environment]
  NODE_VERSION = "20"
  SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_MAPBOX_TOKEN,NEXT_PUBLIC_SEOUL_API_KEY,NEXT_PUBLIC_VWORLD_API_KEY"

[functions]
  # 서버리스 함수 타임아웃을 26초로 설정 (기본값 10초)
  # LOCALDATA API는 25개 구 데이터를 수집하므로 시간이 오래 걸림
  node_bundler = "esbuild"

[[functions."*"]]
  timeout = 26
